# Basics
    - LAN: Local Area Networ
    - WAN: Wide Area Network
    - バッチ処理: 
        - 処理するプログラムやデータなどをまとめて一括で処理する方式
    - ネットワークアーキテクチャ: 
        - 様々なプロトコルを体系的にまとめたもの
    - パケット通信: 
        - 大きなデータをパケットと呼ばれる単位に分割して送信する方法
    - プロトコルつの標準化
        - OSI: Open System Interconnection。ISOによって定められた通信体系
        - TCP/IP: IFTFによって提案、標準化されたプロトコル
    - プロトコルの階層化
        - インターフェース: 上位層と階層の間でサービスのやり取りをする時の約束事
        - 7 アプリケーション: 
            - 特定のアプリケーションに特化
            - ファイル転送や電子メール
        - 6 プレゼンテーション:
            - 機器固有のデータフォーマット
            - データ形式に関する役割
        - 5 セッション
            - コネクションの確立、切断
            - データ転送に関する役割
        - 4 トランスポート
            - 両端ノード間のデータ転送の管理
            - 宛先のアプリケーションに確実に届ける役割
        - 3 ネットワーク
            - アドレスの管理と経路の選択
            - 宛先までデータを届ける
        - 2 データリンク
            - 直接接続された機器間でのデータフレームの識別と転送
            - 直接接続されたノード間
        - 1 物理
            - O/I を電圧の工程や光の点滅に変換する
            - ビットの列を電圧の工程や光の点滅に変換

# 通信処理
- ヘッダ: 
    - 自分の階層のプロトコル処理に必要な情報
    - 上位層から取得したデータにつける
- MACアドレス:
    - Media Access Control. 
    - 同じ通信媒体に接続された機器を識別するためのアドレス
- 通信方式の種類
    - コネクション型
        - データの送信を開始する前に送信ホストと受信ホスト間での回線の接続をする
        - データリンク: 物理的な通信回線
        - トランスポート: 論理的なコネクション
        - 例:
            - ATM
            - TCP
            - フレームリレー
    - コネクションレス型
        - コネククション確立の有無に関わらず、データの送受信を行う
        - パケット交換であることが多い
            - パケット交換
                - 回線に接続しているコンピュータが送信するデータを複数の子包に分け、転送の順番を待つ行列に並べる方法
                - 1つの回線を複数のユーザーで共有していてもそれぞれのパケットをどこに運ばなければならないか、どのコンピュータ間の通信かを区別することが可能
                - 送られてきたパケットをバッファに格納
                - ルータのバッファの容量が満たされると、パケットが喪失する
        - 例
            - IP
            - UDP
    - 通信相手の数による通信方式
        - ユニキャスト
        - ブロードキャスト
        - マルチキャスト
        - エニーキャスト
- アドレス: 通信の主体を特定するためのユニークな情報
    - MACアドレス
        - ネットワークインターフェースカードごとに製造者識別子と製造者内での製品番号、製品ごとの通番が付され、唯一性が担保される
        - 階層性なし
        - 転送表
            - データリンク層における各パケットの送付先を決めるための表
            - 目的: ルータ、スイッチがパケットを転送するための情報を提供
            - 機能: ルータやスイッチがパケットが受信したパケットを経路制御表に基づいて正しいポートまたは次のホップへ転送するために使用
            - 情報: 転送表には特定の宛先IPアドレスまたはMACアドレスとそれに対する転送ポートまたは次のホップ情報
            - 管理: ルータやスイッチが転送テーブルを保持し、パケットの転送に使用
    - IPアドレス
        - ネットワーク部とホスト部から構成
        - 同じネットワーク部を持つものは同じ組織やグループに接続
        - 階層性あり
        - 経路制御表
            - ネットワーク層における各パケットの送付先を決めるための表
            - 目的: ルーティングのための情報を提供
            - 機能: ネットワーク内の異なるノードやサブネットワークに到達するための最適な経路を決定するために使われる
            - 情報: ネットワーク内の異なるノードやネットワークセグメントへの経路情報が含まれており、通常はIPアドレス、サブネットマスク、次のホップルーターなどの情報が含まれる
            - 管理: ルータが経路制御表を保持し、ネットワークトラフィックの経路を決定するために使用
- ネットワーク構成要素
    - 通信媒体とデータリンク
        - データリンク
            - イーサネット
            - 無線
        - bps
            - Bits Per Second. 2つの機器間を流れるデータリンクの伝送速度が大きくなった場合、短い時間でより多くのデータを送ることができる
    - ネットワークインターフェース
        - ネットワークに接続するための専用のインターフェース
        - 有線LAN
            - NIC
            - USB-Ethernet
            - ネットワークアダプタ
        - 無線LAN
            - Wi-Fi
    - リピーター
        - OSI参照モデルの第一層の物理そうでネットワークを延長する機器。
        - ケーブル上を流れてきた電気や光の信号を受信し、増幅や波形の整形などをしたのちに別の側へ再生
    - ブリッジ/レイヤ２スイッチ
        - OSI参照モデルの第2層、データリンク層でネットワーク同士を接続する装置
        - データリンクのフレーム(パケット)を認識してブリッジ内部のメモリに一旦蓄積し、接続された相手側のセグメントに新たなフレームとして送出
        - 伝達速度が異なるデータリンクを接続できる
            - フレームを一旦蓄積するため
        - FCS
            - Frame Check Sequence. CRC方式によってフレームチェックするために利用されるフィールド。
            - ノイズなどにより通信途中でフレームが壊れていないかをチェックする
        - 無駄なトラフィックを流さないように制御
            - アドレスの学習機能により
            - フィルタリング機能
        - ラーニングブリッジ
            - パケットを隣のセグメントに流すかどうかの判断を行う機能
            - 一度そのブリッジを通過したフレームのMACアドレスは一定時間ブリッジ内部のテーブルに登録され、どのセグメントにどのMACアドレスを持つ機器が存在するかを判断する仕組み
        - スイッチングハブ
            - ブリッジの機能を持ったハブ
            - ケーブルを接続するポート全てがブリッジになっているかのように機能する
    - ルータ/レイヤ3スイッチ
        - ネットワークとネットワークを接続してパケットを中継する装置
        - IPアドレスで処理
        - 異なるデータリンクを相互に接続可能
        - ネットワークの負荷を仕切る役割
        - セキュリティの機能
        - ネットワーク全体の経路を判断し、宛先へ転送
    - レイヤ4~7スイッチ
        - OSI参照モデルのトランスポート層からアプリケーション層の情報に基づいて配送処理を行う
        - ロードバランサー
            - レイヤ4~7スイッチの一種。1つのURLで複数のサーバーに負荷を分散させる
        - サイト
            - URLで指しているインターネットに接続されたサーバー
        - 帯域制御
            - 即応性に応じて通信処理の優先順位を決める
        - ゲートウェイ
            - 異なるプロトコルを持つネットワーク同士の中継、データの交換機能を持つ
            - アプリケーションゲートウェイ
                - ゲートウェイの一種。同一プロトコル間の中継をするもの。
            - プロキシサーバー
                - ゲートウェイの一種。ネットワークトラフィックの軽減やセキュリティを意図した代理サーバー
- 実際のネットワークの構成
    - コア-エッジ-アクセス-家庭や企業

# TCP/IP
- TCP/IP標準化の精神
    - オープン: IETFを通した意思決定
    - 標準化するプロトコルが実際に使えるプロトコルとして重視されたこと
    - TCP/IP仕様書
        - RFC
            - Request For Comments
            - ドキュメントとしてインターネット上で公開される
            - プロトコルの実装や運用に関する有用な情報
            - プロトコルの実験に関する情報
        - FYI
            - For Your Information
            - プロトコルの実装や運用に関する有用な情報
- 基礎知識
- Intranet
    - 組織内部において閉じた通信サービスを行うこと
- NOC
    - Network Operation Center
    - ネットワーク区間の接続部
- IX
    - Internet Exchange
    - ネットワ０区の運用者や運用方針、利用方針、などが異なるネットワークを対等に接続するポイント
- ISP
    - Internet Service Provider
- 地域ネット
    - 特定の地域で自治体やボランティアなどにより運営されているネットワーク
- OSI参照モデル: 通信プロトコルに必要な機能は何か
- TCP/IP階層モデル: プロトコルをコンピュータに実装するにはどのようにプログラムすれば良いか
    - ハードウェア: ネットワーク上で物理的にデータを転送してくれる
    - ネットワークインターフェース層
        - イーサネットなどのデータリンクを利用して通信するためのインターフェース
        - NICを動かすためのデバイスドライバ
            - NIC
                - Network Interface Card
                - CP-NIC-Network Internet
    - インターネット層
        - IP
            - ネットワークを跨いでパケットを配送し、インターネット全体にパケットを送り届けるためのプロトコル
            - 各ホストを識別するためにIPアドレスを使用
            - データリンクの特性を隠す
            - 信頼性のないパケット交換プロトコル
        - ICMP
            - Internet Control Message Protocol
            - IPパケットの配送中に何らかの異常が発生してパケットを転送できなくなった場合に、パケットの送信元に異常を知らせるためのプロトコル
        - ARP
            - Address Resolution Protocol
            - パケットの送り先の物理的なアドレスをIPアドレスから取得するプロトコル
    - トランスポート層
        - アプリケーションプログラム間の通信を実現
        - ポート番号
            - アプリケーションプログラムの識別子
        - TCP
            - Transmission Control Protocol
            - コネクション型で信頼のあるプロトコル
        - UDP
            - User Datagram Protocol
            - コネクションレス型で信頼性のない
            - パケット数が少ない通信やブロードキャストマルチキャスト通信、ビデオや音声などのマルチメディア通信に向く
    - アプリケーション層
        - クライアント/サーバーモデル
            - クライアントからの要求がいつきてもいいようにサーバープログラムは常に稼働
            - サーバー: サービスを提供するプログラム
            - クライアント: サービスを受けるプログラム
        - WWW
            - World Wide Web
            - インターネットで情報をやり取りする仕組み
        - HTTP
            - Hyper Text Transfer Protocol
            - ブラウザとサーバー間の通信で使われる
        - HTML
            - Hyper Text Markup Language
            - 送信に使われる主なデータフォーマット
        - Email
            - SMTP
                - Simple Mail Transfer Protocol
                - 電子メールの転送に利用されるプロトコル
            - MIME
                - MultiPurpose Internet Mail Extensions
                - インターネットで幅広く使えるようにメールのデータ形式を拡張したもの
        - FTP
            - File Transfer Protocol
            - ファイル転送のプロトコル
            - バイナリモードやテキストモードを使用したファイル転送
            - TCPコネクションの確立
                - 制御コネクション
                - データコネクション
        - 遠隔ログイン
            - 遠く離れたコンピュータにログインしてそのコンピュータでプログラムを走らせる機能
            - TELNET
            - SSH
        - SNMP
            - Simple Network Management Protocol
            - ネットワーク管理に使用
            - エージェント: SNMPで管理されるルータやブリッジ、ホスト
            - マネージャ: SNMPでネットワーク機器を管理するマネージャ
- TCP/IP階層モデルと通信例
    - ヘッダ: プロトコルのための情報
    - データ: 送信される情報
    - パケット: データ
    - フレーム: データリンクのパケット
    - セグメント: ストリームベースのTCPに含まれるデータ
    - データグラム: ネットワーク層以上でパケット単位のデータ構造を持つプロトコル
    - メッセージ: アプリケーションプロトコルのデータ単位
    - TCPモジュールの処理
        - アプリケーションの指示により、コネクションの確立、データ送信、コネクションの切断
        - TCPヘッダ
            - ポート番号: 送信ホスト、受信ホストのアプリケーションを識別
            - シーケンス番号: パケットのデータが何バイト目のデータかを示す
            - チェックサム: データが壊れていないことを保証する方法
    - IPモジュールの処理
        - IPヘッダ
            - 宛先のIPアドレス
            - 送信元のIPアドレス
            - TCP/UDP
        - 処理手順
            1. IPパケット完成
            1. ルーティングテーブルを参照して、IPパケットを次に受け渡すルータやホストを決定
            1. ネットワークインターフェースのドライバにIPパケットを渡す
            1. 送信処理
        - ARP
            - Address Resolution Protocol
            - 通信先機器のMACアドレスを調べる
    - ネットワークインターフェースの処理
        - ヘッダ
            - 宛先のMACアドレス
            - 送信元のMACアドレス
            - イーサネットタイプ
        - FCS
            - Frame Check Sequence
            - 送信処理中にハードウェアで計算されパケットの最後につけられる
            - ノイズによりパケットが破壊されたことを検出

# 各層
- データリンク層
    - データリンク層のプロトコル: 通信媒体で直接接続された機器間で通信するための仕様
    - MACアドレス: データリンクに接続しているノードを識別するために利用
        - IEEE: 米国電気電子技術者協会
        - 48ビット
            - 1: ユニキャストアドレス/マルチキャストアドレス
            - 2: ユニバーサルアドレス/ローカルアドレス
            - 3~24: IEEEがベンダごとに重ならないように管理するアドレス
            - 25~48: ベンダが製品ごとに重ならないように管理するアドレス
    - 媒体共有型
        - 通信媒体を複数で共有するネットワーク
        - 初期のイーサネット
        - FDDI
        - 通信の優先権を制御する仕組み
        - コンテンション方式: 
            - データの送信権を競争で奪い取る方式
            - 同時送信時、データ破損
            - CSMA
                - Carrier Sense Multiple Access
                - 送信を試みる前に別のノードからのキャリア信号の存在の検出を試みることで、現在通信しているホストが他にあるかどうかを確認
            - CSMA/CD
                - 衝突を早期に検出して、素早く通信路を開放する
                - 搬送波が流れていなければデータ送信可
                - 衝突検知時、ジャム信号を送信し送信取り止め
                - 乱数時間待って送信をやり直す
        - トークンパッシング方式
            - トークンと呼ばれるパケットを巡回させ、このトークンで送信権を制御
            - トークンを持っているステーションだけが送信可能
            - トークンが回ってくるまでデータ送信不可
            - 混雑していない時にデータリンクの性能を100%引き出せない
        