# Basics
    - LAN: Local Area Networ
    - WAN: Wide Area Network
    - バッチ処理: 
        - 処理するプログラムやデータなどをまとめて一括で処理する方式
    - ネットワークアーキテクチャ: 
        - 様々なプロトコルを体系的にまとめたもの
    - パケット通信: 
        - 大きなデータをパケットと呼ばれる単位に分割して送信する方法
    - プロトコルつの標準化
        - OSI: Open System Interconnection。ISOによって定められた通信体系
        - TCP/IP: IFTFによって提案、標準化されたプロトコル
    - プロトコルの階層化
        - インターフェース: 上位層と階層の間でサービスのやり取りをする時の約束事
        - 7 アプリケーション: 
            - 特定のアプリケーションに特化
            - ファイル転送や電子メール
        - 6 プレゼンテーション:
            - 機器固有のデータフォーマット
            - データ形式に関する役割
        - 5 セッション
            - コネクションの確立、切断
            - データ転送に関する役割
        - 4 トランスポート
            - 両端ノード間のデータ転送の管理
            - 宛先のアプリケーションに確実に届ける役割
        - 3 ネットワーク
            - アドレスの管理と経路の選択
            - 宛先までデータを届ける
        - 2 データリンク
            - 直接接続された機器間でのデータフレームの識別と転送
            - 直接接続されたノード間
        - 1 物理
            - O/I を電圧の工程や光の点滅に変換する
            - ビットの列を電圧の工程や光の点滅に変換

# 通信処理
- ヘッダ: 
    - 自分の階層のプロトコル処理に必要な情報
    - 上位層から取得したデータにつける
- MACアドレス:
    - Media Access Control. 
    - 同じ通信媒体に接続された機器を識別するためのアドレス
- 通信方式の種類
    - コネクション型
        - データの送信を開始する前に送信ホストと受信ホスト間での回線の接続をする
        - データリンク: 物理的な通信回線
        - トランスポート: 論理的なコネクション
        - 例:
            - ATM
            - TCP
            - フレームリレー
    - コネクションレス型
        - コネククション確立の有無に関わらず、データの送受信を行う
        - パケット交換であることが多い
            - パケット交換
                - 回線に接続しているコンピュータが送信するデータを複数の子包に分け、転送の順番を待つ行列に並べる方法
                - 1つの回線を複数のユーザーで共有していてもそれぞれのパケットをどこに運ばなければならないか、どのコンピュータ間の通信かを区別することが可能
                - 送られてきたパケットをバッファに格納
                - ルータのバッファの容量が満たされると、パケットが喪失する
        - 例
            - IP
            - UDP
    - 通信相手の数による通信方式
        - ユニキャスト
        - ブロードキャスト
        - マルチキャスト
        - エニーキャスト
- アドレス: 通信の主体を特定するためのユニークな情報
    - MACアドレス
        - ネットワークインターフェースカードごとに製造者識別子と製造者内での製品番号、製品ごとの通番が付され、唯一性が担保される
        - 階層性なし
        - 転送表
            - データリンク層における各パケットの送付先を決めるための表
            - 目的: ルータ、スイッチがパケットを転送するための情報を提供
            - 機能: ルータやスイッチがパケットが受信したパケットを経路制御表に基づいて正しいポートまたは次のホップへ転送するために使用
            - 情報: 転送表には特定の宛先IPアドレスまたはMACアドレスとそれに対する転送ポートまたは次のホップ情報
            - 管理: ルータやスイッチが転送テーブルを保持し、パケットの転送に使用
    - IPアドレス
        - ネットワーク部とホスト部から構成
        - 同じネットワーク部を持つものは同じ組織やグループに接続
        - 階層性あり
        - 経路制御表
            - ネットワーク層における各パケットの送付先を決めるための表
            - 目的: ルーティングのための情報を提供
            - 機能: ネットワーク内の異なるノードやサブネットワークに到達するための最適な経路を決定するために使われる
            - 情報: ネットワーク内の異なるノードやネットワークセグメントへの経路情報が含まれており、通常はIPアドレス、サブネットマスク、次のホップルーターなどの情報が含まれる
            - 管理: ルータが経路制御表を保持し、ネットワークトラフィックの経路を決定するために使用
- ネットワーク構成要素
    - 通信媒体とデータリンク
        - データリンク
            - イーサネット
            - 無線
        - bps
            - Bits Per Second. 2つの機器間を流れるデータリンクの伝送速度が大きくなった場合、短い時間でより多くのデータを送ることができる
    - ネットワークインターフェース
        - ネットワークに接続するための専用のインターフェース
        - 有線LAN
            - NIC
            - USB-Ethernet
            - ネットワークアダプタ
        - 無線LAN
            - Wi-Fi
    - リピーター
        - OSI参照モデルの第一層の物理そうでネットワークを延長する機器。
        - ケーブル上を流れてきた電気や光の信号を受信し、増幅や波形の整形などをしたのちに別の側へ再生
    - ブリッジ/レイヤ２スイッチ
        - OSI参照モデルの第2層、データリンク層でネットワーク同士を接続する装置
        - データリンクのフレーム(パケット)を認識してブリッジ内部のメモリに一旦蓄積し、接続された相手側のセグメントに新たなフレームとして送出
        - 伝達速度が異なるデータリンクを接続できる
            - フレームを一旦蓄積するため
        - FCS
            - Frame Check Sequence. CRC方式によってフレームチェックするために利用されるフィールド。
            - ノイズなどにより通信途中でフレームが壊れていないかをチェックする
        - 無駄なトラフィックを流さないように制御
            - アドレスの学習機能により
            - フィルタリング機能
        - ラーニングブリッジ
            - パケットを隣のセグメントに流すかどうかの判断を行う機能
            - 一度そのブリッジを通過したフレームのMACアドレスは一定時間ブリッジ内部のテーブルに登録され、どのセグメントにどのMACアドレスを持つ機器が存在するかを判断する仕組み
        - スイッチングハブ
            - ブリッジの機能を持ったハブ
            - ケーブルを接続するポート全てがブリッジになっているかのように機能する
    - ルータ/レイヤ3スイッチ
        - ネットワークとネットワークを接続してパケットを中継する装置
        - IPアドレスで処理
        - 異なるデータリンクを相互に接続可能
        - ネットワークの負荷を仕切る役割
        - セキュリティの機能
        - ネットワーク全体の経路を判断し、宛先へ転送
    - レイヤ4~7スイッチ
        - OSI参照モデルのトランスポート層からアプリケーション層の情報に基づいて配送処理を行う
        - ロードバランサー
            - レイヤ4~7スイッチの一種。1つのURLで複数のサーバーに負荷を分散させる
        - サイト
            - URLで指しているインターネットに接続されたサーバー
        - 帯域制御
            - 即応性に応じて通信処理の優先順位を決める
        - ゲートウェイ
            - 異なるプロトコルを持つネットワーク同士の中継、データの交換機能を持つ
            - アプリケーションゲートウェイ
                - ゲートウェイの一種。同一プロトコル間の中継をするもの。
            - プロキシサーバー
                - ゲートウェイの一種。ネットワークトラフィックの軽減やセキュリティを意図した代理サーバー
- 実際のネットワークの構成
    - コア-エッジ-アクセス-家庭や企業

# TCP/IP
- TCP/IP標準化の精神
    - オープン: IETFを通した意思決定
    - 標準化するプロトコルが実際に使えるプロトコルとして重視されたこと
    - TCP/IP仕様書
        - RFC
            - Request For Comments
            - ドキュメントとしてインターネット上で公開される
            - プロトコルの実装や運用に関する有用な情報
            - プロトコルの実験に関する情報
        - FYI
            - For Your Information
            - プロトコルの実装や運用に関する有用な情報
- 基礎知識
- Intranet
    - 組織内部において閉じた通信サービスを行うこと
- NOC
    - Network Operation Center
    - ネットワーク区間の接続部
- IX
    - Internet Exchange
    - ネットワークの運用者や運用方針、利用方針、などが異なるネットワークを対等に接続するポイント
- ISP
    - Internet Service Provider
- 地域ネット
    - 特定の地域で自治体やボランティアなどにより運営されているネットワーク
- OSI参照モデル: 通信プロトコルに必要な機能は何か
- TCP/IP階層モデル: プロトコルをコンピュータに実装するにはどのようにプログラムすれば良いか
    - ハードウェア: ネットワーク上で物理的にデータを転送してくれる
    - ネットワークインターフェース層
        - イーサネットなどのデータリンクを利用して通信するためのインターフェース
        - NICを動かすためのデバイスドライバ
            - NIC
                - Network Interface Card
                - CP-NIC-Network Internet
    - インターネット層
        - IP
            - ネットワークを跨いでパケットを配送し、インターネット全体にパケットを送り届けるためのプロトコル
            - 各ホストを識別するためにIPアドレスを使用
            - データリンクの特性を隠す
            - 信頼性のないパケット交換プロトコル
        - ICMP
            - Internet Control Message Protocol
            - IPパケットの配送中に何らかの異常が発生してパケットを転送できなくなった場合に、パケットの送信元に異常を知らせるためのプロトコル
        - ARP
            - Address Resolution Protocol
            - パケットの送り先の物理的なアドレスをIPアドレスから取得するプロトコル
    - トランスポート層
        - アプリケーションプログラム間の通信を実現
        - ポート番号
            - アプリケーションプログラムの識別子
        - TCP
            - Transmission Control Protocol
            - コネクション型で信頼のあるプロトコル
        - UDP
            - User Datagram Protocol
            - コネクションレス型で信頼性のない
            - パケット数が少ない通信やブロードキャストマルチキャスト通信、ビデオや音声などのマルチメディア通信に向く
    - アプリケーション層
        - クライアント/サーバーモデル
            - クライアントからの要求がいつきてもいいようにサーバープログラムは常に稼働
            - サーバー: サービスを提供するプログラム
            - クライアント: サービスを受けるプログラム
        - WWW
            - World Wide Web
            - インターネットで情報をやり取りする仕組み
        - HTTP
            - Hyper Text Transfer Protocol
            - ブラウザとサーバー間の通信で使われる
        - HTML
            - Hyper Text Markup Language
            - 送信に使われる主なデータフォーマット
        - Email
            - SMTP
                - Simple Mail Transfer Protocol
                - 電子メールの転送に利用されるプロトコル
            - MIME
                - MultiPurpose Internet Mail Extensions
                - インターネットで幅広く使えるようにメールのデータ形式を拡張したもの
        - FTP
            - File Transfer Protocol
            - ファイル転送のプロトコル
            - バイナリモードやテキストモードを使用したファイル転送
            - TCPコネクションの確立
                - 制御コネクション
                - データコネクション
        - 遠隔ログイン
            - 遠く離れたコンピュータにログインしてそのコンピュータでプログラムを走らせる機能
            - TELNET
            - SSH
        - SNMP
            - Simple Network Management Protocol
            - ネットワーク管理に使用
            - エージェント: SNMPで管理されるルータやブリッジ、ホスト
            - マネージャ: SNMPでネットワーク機器を管理するマネージャ
- TCP/IP階層モデルと通信例
    - ヘッダ: プロトコルのための情報
    - データ: 送信される情報
    - パケット: データ
    - フレーム: データリンクのパケット
    - セグメント: ストリームベースのTCPに含まれるデータ
    - データグラム: ネットワーク層以上でパケット単位のデータ構造を持つプロトコル
    - メッセージ: アプリケーションプロトコルのデータ単位
    - TCPモジュールの処理
        - アプリケーションの指示により、コネクションの確立、データ送信、コネクションの切断
        - TCPヘッダ
            - ポート番号: 送信ホスト、受信ホストのアプリケーションを識別
            - シーケンス番号: パケットのデータが何バイト目のデータかを示す
            - チェックサム: データが壊れていないことを保証する方法
    - IPモジュールの処理
        - IPヘッダ
            - 宛先のIPアドレス
            - 送信元のIPアドレス
            - TCP/UDP
        - 処理手順
            1. IPパケット完成
            1. ルーティングテーブルを参照して、IPパケットを次に受け渡すルータやホストを決定
            1. ネットワークインターフェースのドライバにIPパケットを渡す
            1. 送信処理
        - ARP
            - Address Resolution Protocol
            - 通信先機器のMACアドレスを調べる
    - ネットワークインターフェースの処理
        - ヘッダ
            - 宛先のMACアドレス
            - 送信元のMACアドレス
            - イーサネットタイプ
        - FCS
            - Frame Check Sequence
            - 送信処理中にハードウェアで計算されパケットの最後につけられる
            - ノイズによりパケットが破壊されたことを検出

# 各層
- データリンク層
    - データリンク層のプロトコル: 通信媒体で直接接続された機器間で通信するための仕様
    - MACアドレス: データリンクに接続しているノードを識別するために利用
        - IEEE: 米国電気電子技術者協会
        - 48ビット
            - 1: ユニキャストアドレス/マルチキャストアドレス
            - 2: ユニバーサルアドレス/ローカルアドレス
            - 3~24: IEEEがベンダごとに重ならないように管理するアドレス
            - 25~48: ベンダが製品ごとに重ならないように管理するアドレス
    - 媒体共有型
        - 通信媒体を複数で共有するネットワーク
        - 初期のイーサネット
        - FDDI
        - 通信の優先権を制御する仕組み
        - コンテンション方式: 
            - データの送信権を競争で奪い取る方式
            - 同時送信時、データ破損
            - CSMA
                - Carrier Sense Multiple Access
                - 送信を試みる前に別のノードからのキャリア信号の存在の検出を試みることで、現在通信しているホストが他にあるかどうかを確認
            - CSMA/CD
                - 衝突を早期に検出して、素早く通信路を開放する
                - 搬送波が流れていなければデータ送信可
                - 衝突検知時、ジャム信号を送信し送信取り止め
                - 乱数時間待って送信をやり直す
        - トークンパッシング方式
            - トークンと呼ばれるパケットを巡回させ、このトークンで送信権を制御
            - トークンを持っているステーションだけが送信可能
            - トークンが回ってくるまでデータ送信不可
            - 混雑していない時にデータリンクの性能を100%引き出せない
    - 媒体非共有型
        - 通信媒体を共有せずに占有する方式
        - ステーションはスイッチと呼ばれる装置に直接接続され、そのスイッチがフレームを転送する
        - 通信方式
            - 半二重通信
                - 送信をしている間は受信できず、受信をしている間は送信できないような通信
                - 無線のような感じ
            - 全二重通信
                - 送信と受信を同時に行える通信
                - 電話のような感じ
        - 大体は全二重通信
        - スイッチに高度な機能を持たせることで、仮想的なネットワークの構築やデータ流量の制御なども可能になる
        - スイッチが故障するだけで接続されたすべてのコンピュータ間の通信が不可能になってしまうという欠点がある
    - MACアドレスによる転送
        - イーサネットスイッチ
            - 複数の浦オートを持ったブリッジ
            - 各フレームの通過点では、そのフレームの宛先MACアドレスをみて、どのインタフェースから送り出すかを決める
                - 転送表: その際に参照する、送出インタフェースを記したテーブルのことを
                    - 手動でここの端末やスイッチに設定するのではなく、自動的に生成される。
                    - 自動学習: データリンク層の各通過点は、パケットを受け取った時にそのパケットの送信元MACアドレスとそのパケットを受け取ったインタフェースの対を転送表に書き込む
                        - これにより、そのMACアドレスを宛先とするパケットを受け取った場合そのインタフェースから送り出せば良いとわかる
                    - 階層性がない
                        - 転送表のエントリは、そのデータリンク内に存在する機器の数だけ必要
                        - 多くの端末を繋げる場合には、複数のデータリンクに分、ネットワーク層でIPアドレスのような階層的なアドレスを使って束ねる必要がある
            - スイッチの転送方式
                - ストア & フォワード: イーサネットフレーム末尾のFCSをチェックしてから転送を行う
                    - 衝突によって壊れたフレームや、ノイズによるエラーフレームは転送しない利点がある
                - カットスルー: フレームを全部蓄積し終わる前に処理が始まり、送信先のMACアドレスが分かり次第データの転送を開始する
                    - 遅延時間が短い
                    - エラーフレームを転送する可能性あり
    - ループを検出するための技術
        - ブリッジでネットワークを接続するときにループを作った場合、メルトダウンが発生
            - メルトダウン: 異常なパケットがネットワークを埋め尽くし、通信不能になる状態。
                - 多くの場合、原因となっている機器の電源を切ったり、ネットワークから切り離したりしない限り状態は回復しない
        - スパニングツリー: 
            - この機能を持つブリッジを使う場合に限り、ブリッジでループのあるネットワークを構成しても問題なく通信できる
            - 適切な形でループを作れば、トラフィックを分散させたり、経路の一方に障害が発生したときにフレームを迂回させたりして、耐障害性を高めることが可能
            - 各ブリッジは1~10秒の間隔で、BPDUを交換する。
                - BPDU: Bridge Protocol Data Unit。パケットの一種
            - 通信に使用するポートとしないポートを消すように制御する
            - 障害が発生した場合には、通信路が自動的に切り替わり、使用されていないポートを使って通信が行われるようになる
            - 具体的に
                - ある一つのブリッジをルートとするツリーを構成する。
                - それぞれのポートに適切に重みをつけることで、優先して使いたいポートと障害時に使いたいポートを指定できる
            - コンピューターやルーターの機能に関係なく、ブリッジの機能だけでループを解消できる
            - RSTP: Rapid Spanning Tree Protocol
                - 障害時の切り替わりにかかる時間を数秒以下に抑えられる
        - リンクアグリゲーション
            - LANスイッチ間を複数のリンクで接続することで、障害体制の向上と高速化を実現する仕組み
            - 複数のポートを同時に使用できる
        - LLDP
            - Link Layer Discovery Protocol
            - ネットワークにつながっている機器の情報を収集する仕組み
            - ネットワーク機器は自身のホスト名や機器情報、ポート/インタフェース情報を定期的にマルチキャストMACアドレスに送信
            - 情報を収集する機器はLLDPパケットを受信することで情報を収集
            - ネットワークに接続された機器情報を簡単に確認できる
    - VLAN
        - Vertual LAN
        - VLAN技術を利用できるブリッジを使うことで、ネットワークの配線を変えずに、ネットワークの構造を変えることができる
        - ブリッジ/レイヤ2スイッチの機能
        - 異なるVLAN間のすべての通信を遮断
            - 余分なパケットが流れず、効率的な運用が可能
        - 基本構造
            - スイッチのポートごとにセグメントを分ける
                - ブロードキャストのトラフィックが流れる範囲を区切ることができる
                    - ネットワークの負荷を軽減する
                    - セキュリティを向上させる
                - 異なるセグメント間で通信するためには
                    - ルータの機能を備えたスイッチを利用
                    - セグメント間をルータで結ぶ
                    - タグVLAN
                        - VLANを拡張し、異なるスイッチを跨いだセグメントを構築できるようにしたもの
                        - セグメント毎に一意となるVLAN IDを設定
                        - スイッチ間でフレームを転送するときにはイーサネットのヘッダの中にVLANタグを挿入し、その値を元にしてどのセグメントにフレームを転送するかを決定する
        - 物理的なネットワーク構成と、論理的な構成が異なるため
            - わかりにくい
            - 管理しにくい
    - Ethernet
        - 最も普及している
        - 他のデータリンクと比べて制御の仕組みが単純なため、NICやデバイスドライバが作りやすい
        - 高速ネットワークへの対応
        - 普及当初は、複数ん末での1本同軸ケーブルを共有する媒体共有型の接続が一般的
        - 端末とスイッチの間を占有のケーブルで接続して、イーサネットプロトコルで通信する形態
        - フレームフォーマット
            - プリアンブル: 
                - ここからイーサネットフレームが始まることを示し、相手のNICと同期を取れるようにするもの
                - 1と0を交互に並べた、8オクテットのフィールド
                - SFD: start frame delimiter 末尾のみ11
            - フレーム本体の先頭にくるヘッダ
                - 宛先MACアドレスのフィールド: 6オクテット
                - 送信元MACアドレスのフィールド: 6オクテット
                - 上位層のプロトコル種類を表すフィールド: 2オクテット
            - フレーム本体
            - FCS: Frame Check Sequence
                - 4オクテットのフィールド
                - フレームが壊れていないかどうかをチェック
                - 通信中に電気的なノイズが発生すると、送信したフレームがビット化けを起こして壊れる可能性あり
                - フレーム全体を特定のビットれるで割った甘利を格納
                - 受信側でも同じ計算を行い、FCSの値が同じになったらフレームが正しく届いたと判断する
    - 二つの階層に分けられる
        - 媒体アクセス制御: イーサネットやFDDIなどのデータリンク毎に決まっているヘッダ制御
        - 論理リンク制御: 共通になっているヘッダや制御のこと
    - 無線通信
        - 種類: 通信距離に応じた分類
            - 無線PAN: Bluetooth
            - 無線LAN: Wi-Fi
            - 無線MAN: WiMAX
            - 無線RAN
            - 無線WAN: 3G, LET, 4G
        - IEEE802.11
            - 無線LANプロトコルの物理層とデータリンク層の一部を定義した規格
            - CSMA/CA: 
                - アクセス制御方式の一種
                - Carrer Sense Multiple Access with Collision Avoidance
                - 無線LANが利用する電波は有限であり、複数の端末が同じ周波数帯を共有する必要がある媒体共有型のネットワーク
                - Carrier Senseによりデータを送信して良い状態稼働かを確認し、ランダムな時間だけを待ってからデータ送信を開始することで衝突を回避する仕組み
    - PPP
        - Point to Point Protocol
        - 1to1でコンピュータを接続するためのプロトコル
        - データリンクプロトコル
        - 純粋なデータリンク層
        - データ通信を開始する前にPPPレベルでコネクションを確立する
            - 認証
            - 圧縮
            - 暗号化
        - 機能
            - LCP
                - Link Control Protocol
                - 上位層に依存しない
                - コネクションの確立や、切断、パケット長の設定、認証プロトコルの設定、通信品質の監視をするかどうかなどの設定
            - NCP
                - Network Control Protocol
                - 上位層に依存する
                    - IPCP
                        - IP Control Protocol
                        - IPアドレスの設定やTCP/IPのヘッダ圧縮
        - 通常ユーザーIDやパスワードによる認証が行われる
            - 通信する双方向で認証を行える
            - PAP
                - Pasword Authentication Protocol
                - PPPのコネクションの確立時に1回だけIDとパスワードのやり取りをする方法
                - やりとりするパスワードは暗号化されずに平文のまま送信される
            - CHAP
                - Challenge Handshake Authentication Protocol
                - 毎回パスワードが変更されるOTPを使用する
                - コネクション確立後も定期的にパスワードを交換することにより通信相手が途中から入れ替わっていないかどうかをチェック
        - フレームフォーマット
            - フラグがフレームの区切りを示す
                - HDLC
                    - High Level Data Link COntrol Procedure
                    - フラグシーケンスによってフレームの区切りを示す
                        - 01111110
                        - フレーム内部において1が6回以上連続することを許さない。そのためフレームを送信するときに1が5回以上連続した場合には直後に0を挿入する必要があり、受信時にはその0を削除する必要がある
                        - そのためCPUに大きな負荷がかかる
        - PPPoE
            - PPP over Ethernet
            - イーサネット上でコネクションを管理
            - PPPの認証機能などを利用してプロバイダが顧客の管理をしやすくなる
    - そのほか
        - ATM
            - Asynchronous Transfer Mode
            - データを「ヘッダ5オクテット」+「データ48オクテット」のセルと呼ばれる単位で処理するデータリンク
            - 回線の専有時間を短くすることにより大容量のデータを効率よく転送できるようにしている
            - 広域を結ぶネットワークで利用される
            - コネクション型
            - 同時に複数の相手と通信回線を接続することができる
            - 送信権の制御がない
                - すべてのコンピュータが同時に大量のデータを送信すると、ネットワークが混雑して輻輳状態になる
                    - 輻輳: ネットワークが非常に混雑して、ルータやスイッチがパケットやセルを処理しきれなくなった状態。処理しきれなくなったパケットやセルは破棄される
                - これを防ぐため、ATMには帯域をきめ細かく制御する機能が備えられている
            - 非同期多重
                - ヘッダで宛先を明らかにすることにより、必要なときに転送を行う
                - 回線の利用効率は上がるが、ヘッドの分オーバヘッドとなり実際の通信速度が低下する
                - VS 同期多重
            - 48オクテットのデータしか送れないため、上位層のデータはほとんど送ろことができない
                - AAL
                    - ATM Adaption Layer
        - POS
            - Packet over SDH/SONET
            - デジタル信号を光ファイバーでやりとり捨ための物理層の規格であるSDH（SONET）上でパケット通信を行うためのプロトコル
                - SDH: Synchronous Digital Hierarchy
                - SONET: Synchronous Optical NETwork
            - 電話回線や専用線などで信頼性の高い光伝送ネットワークとして広く利用される
        - ファイバーチャネル
            - 高速なデータチャネルを実現するデータリンク
            - 周辺機器を接続するバスに近い仕組み
        - iSCSI
            - パソコンなどにハードディスクを接続するための標準規格であるSCSIをTCP/IPネットワーク上で利用する規格
            - SCSIのコマンドとデータをIPパケットに包含し、データの送受信を行う
            - パソコンなどの内蔵SCSIハードディスクと同様に、ネットワーク上に直結された大規模ハードディスクを利用することが可能
        - InfiniBand
        - IEEE1394
        - HDMI
            - High-Definition Multimedia Interface
            - 1つのケーブルで高品位な映像と音声をデジタル伝送できる規格
        - DOCSIS
        - 高速PLC
    - 公衆アクセス網
        - アナログ電話回線
            - 固定電話回線を利用して通信を行う
            - 電話回線の音声部分の帯域を使ってインターネットにダイアルアップ接続する場合に利用される。
            - コンピュータとアナログ電話回線で接続するためには、デジタル信号とアナログ信号を変換するモデムが必要になる
        - モバイル通信サービス
            - PHS: Personal Handyphone System
            - MIMO: Multiple-Input and Multiple-Output
            - キャリアアグリゲーション: 複数の周波数帯の電波を束ねてデータ通信を行う技術
        - ADSL
            - Asymmetric Digital Subscriber Line
            - 既存のアナログ電話回線を拡張利用するサービス
            - 電話機と電話局の交換機の間の回線を利用
            - スプリッタと呼ばれる分配器を設置し、音声周波数とデータ通信用の周波数を金剛・分離する
        - FTTH
            - Fiber To The Home
            - 高速の光ファイバーをユーザーの自宅や会社の建物内に直接引き込む手法
            - ONUと呼ばれる装置により光を電気信号に変換してからコンピュータやルータに接続する
        - ダークファイバー
            - 通信事業者や送配電事業者などの社会インフラ関連業者などが敷設した光ファイバーケーブルのうち、使用していない光ファイバーを一般企業や団体が借り受けて提供されるサービス
        - ケーブルテレビ
        - 専用線
        - VPN
            - Virtual Private Network
            - IP-VPN
                - IPネットワークにVPNを構築する
                - ラベルと呼ばれる情報をIPパケットに付加して通信を制御する
                - このラベルを顧客毎に異なるように設定し、MPLS網を通過する際に、このラベルで宛先の判断を行う
                - IPsec
                    - VPN上での通信時にIPパケットの認証、暗号化を行い、インターネット上で閉じたネットワークを構築する
            - 広域イーサネット
                - 通信事業者が提供する、離れた地域を結ぶイーサネット接続のサービス
                - データリンク層であるイーサネットを用いたVLANを利用する
                - TCP/IP以外のプロトコルを使用可能
                - 通信事業者が構築するネットワークのVLANを利用企業が専用で利用する形になる
                - 同じVLANを指定すればどこからでも同じネットワークに接続できる
            - SD-WANサービス
                - WANを構成するMPLSやインターネット、4GLTEなどを取りまとめ、仮想的なWANリンクを構成するサービス
                - 論理ネットワークを構成することが可能
            - 公衆無線LAN
                - Wi-Fiを利用したサービス
- ネットワーク層
    - 主にIPとICMPの2つのプロトコルから構成される
    - 終点ノード間の通信を実現する
    - データリンクを超えた通信をするためにはネットワーク層が必要
        - 通信経路になっているデータリンクの違いをおおい隠し、異なる種類のデータリンクであったとしても、その間の連携をとりながらパケットを配送することによって、別のデータリンクに接続されているコンピュータ間での通信を可能にする
    - ホスト: IPアドレスが付けられているが経路制御を行わない機器や機会、装置のこと
    - ルーター: IPアドレスが付けられていて経路制御を行う機器
    - ノード: ホストとルーターの総称
    - IPアドレス
        - ネットワークに接続されているすべてのホストの中から、通信を行う宛先を識別する
        - TCP/IPで通信するすべてのホストやルーターには、IPアドレスを設定する必要がある
    - 経路制御
        - ルーティング
        - 宛先IPアドレスのホストまでパケットを届けるための仕組み
        - hop: ネットワークの1区間をIPパケットが跳ぶこと
        - ホップバイホップルーティング
            - ルータやホストはIPパケットに次の転送先となるルータやホストを指示するだけで、最終目的地までの経路を指示するわけではない
            - ad hoc: 行き当たりばったり
        - ルーティングテーブル
            - IPパケットを次にどのルーターへ送ればよいかが記載されている
    - データリンクの抽象化
        - 複数のデータリンクで接続されたネットワーク間の通信を実現するプロトコル
        - MTU
            - Maximum Transimission Unit
            - 最大転送単位
        - データリンクのMTUもその種類によって異なる
        - 分割処理
            - 大きなIPパケットを複数の小さなIPパケットに分割する処理
            - 分割されたパケットは宛先のホストで再び1つにまとめられ、IPの上位層に渡される
    - コネクションレス型
        - パケットを送信する前に通信相手との間にコネクションの確立を行わない
        - 上位層に送信すべきデータが発生し、IPに送信要求をしたら、すぐにIPパケットにデータを詰めて送信する
        - 機能の簡略化と高速化のため
        - ベストエフォート型: パケットを宛先まで送り届けようと最大限の努力をするが、確実に届く保証はない
        - 信頼性をTCPに求めることで、プロトコルの役割分担を明確化し、より簡潔に早く機能の実装が可能
    - IPアドレス
        - IPv4
            - 32ビットの正整数値
            - 2**32 = 約43億台のコンピュータをIPネットワークに接続できる
            - IPアドレスはホスト毎ではなく、NICごとに割り当てることになる。複数割り当ても可能
            - 通常ルータは2つ以上のNICを持つため、2つ以上のIPアドレスを持つことになる
            - ネットワーク部
                - データリンクのセグメント毎に重ならない値を割り当てる
            - ホスト部
                - 同一セグメント内で重ならない値を割り当てる
            - IPパケットが途中のルーターで転送されるときには、宛先IPアドレスのネットワーク部が利用される。
            - ネットワーク部とホスト部の見分け方
                - 初期IP
                    - クラスによる区分け
                    - 4つのクラス: 
                        - クラスA: IPアドレスの先頭1ビットが0で始まる場合、先頭から8ビットまでがネットワーク部
                        - クラスB: IPアドレスの先頭2ビットが10で始まる場合、先頭から16ビットまでがネットワーク部
                        - クラスC: IPアドレスの先頭3ビットが110で始まる場合、先頭から24ビットまでがネットワーク部
                        - クラスD: IPアドレスの先頭4ビットが1110で始まる場合、先頭から32ビットまでがネットワーク部
                            - IPマルチキャスト通信に使われる
                - 現在
                    - サブネットマスク
            - ブロードキャストアドレス
                - 同一リンクに接続されたすべてのホストにパケットを送信するためのアドレス
                - ホスト部のビットをすべて1にする
                - ローカルブロードキャスト
                    - 自分が属しているリンク内のブロードキャスト
                - ダイレクトブロードキャスト
                    - 目的のネットワークに属する全ホストに対するブロードキャスト
            - マルチキャスト
                - 特定のグループに属するすべてのホストにパケットを送信する
                - 信頼性はない
                - マルチキャスト機能が使用されるまではブロードキャストで全端末にパケットを送信し、受信したホストのIPより上の層で自分に必要なデータかいなかの判断を行い、必要であれば受け取り、必要でなければ破棄する方法が使われている
            - サブネットマスク
                - サブネットマスクと呼ばれる識別子が導入され、クラスのネットワークを小さく区切るサブネットワークアドレスが利用される
                - クラス毎に決まるホスト部をサブネットワークアドレス部として使うことにより、複数の物理ネットワークに分割できるようにする
                - IPアドレスのネットワーク部を表すビットと同じ桁の部分が1となり、ホスト部の部分は0となる
                - とりま2進数で考えよう
            - CIDR
                - 任意のビット長でIPアドレスを配布するようになった
                - Classless InterDomain Routing
                - クラスに縛られない組織間の経路制御
            - 可変長サブネットマスクVLSM
                - Variable Length Subnet Mask
                - 組織内の部署毎にネットワークアドレス長を変えられるようにする仕組み
            - プライベートアドレス
                - インターネットに接続しない独立した私的なネットワークで利用できるIPアドレス
                    - 10/8
                    - 172.16/12
                    - 192.168/16
                - NAT
                    - プライベートIPアドレスとグローバルIPアドレスの間でアドレスを変換する技術
                    - プライベートアドレスを割り当てたネットワーク上のホストから、グローバルアドレスを割り当てたインターネット上のホストと通信できるようになった
                    - 家庭や学校、企業内ではプライベートIPアドレスを設定し、インターネットと接続するルーターやインターネットに公開しているサーバーにだけグローバルIPアドレスを設定することが一般化している
            - ICANN
                - Internet Corporation for Assigned Names and Numbers
                - グローバルIPアドレスを一元管理
                - 今まではユーザーがJPNICから直接グローバルIPアドレスを取得する必要があったが、現在はISPにインターネットへの接続を依頼するとき、同時にグローバルIPアドレスの申請も依頼できる
            - 経路制御
                - 通信するホストやルーターなどの機器は必ず経路制御表を持つ
                - 



              
            

            

            


        